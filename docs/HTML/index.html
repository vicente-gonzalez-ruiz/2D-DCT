<?xml version="1.0" encoding="iso-8859-1" ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN" 
"http://www.w3.org/Math/DTD/mathml2/xhtml-math11-f.dtd" > 
<html xmlns="http://www.w3.org/1999/xhtml"  
> 
<head><title>DCT &#x0028;Discrete Cosine Transform&#x0029;</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
<meta name="generator" content="TeX4ht (https://tug.org/tex4ht/)" /> 
<meta name="originator" content="TeX4ht (https://tug.org/tex4ht/)" /> 
<!-- xhtml,mathml,html --> 
<meta name="src" content="index.tex" /> 
<link rel="stylesheet" type="text/css" href="index.css" /> 
</head><body 
>
   <div class="maketitle">
                                                                  

                                                                  
                                                                  

                                                                  

<h2 class="titleHead">DCT &#x0028;Discrete Cosine Transform&#x0029;</h2>
 <div class="author" ><span 
class="ecrm-1200">Vicente Gonz</span><span 
class="ecrm-1200">&#x00E1;</span><span 
class="ecrm-1200">lez Ruiz</span></div><br />
<div class="date" ><span 
class="ecrm-1200">December 4, 2022</span></div>
   </div>
   <h3 class="likesectionHead"><a 
 id="x1-1000"></a>Contents</h3>
   <div class="tableofcontents">
   &#x00A0;<span class="sectionToc" >1 <a 
href="#x1-20001" id="QQ2-1-2">1D-DCT</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.1                                                                                 <a 
href="#x1-30001.1" id="QQ2-1-3">The
<!--l. 4--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >RGB</mtext></mstyle></math>-DCT</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.2 <a 
href="#x1-40001.2" id="QQ2-1-4">Quantization in the color-DCT domain</a></span>
<br />   &#x00A0;<span class="sectionToc" >2 <a 
href="#x1-50002" id="QQ2-1-5">The 2D-DCT</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.1 <a 
href="#x1-60002.1" id="QQ2-1-7">Quantization in the &#x0028;spatial&#x0029; DCT domain</a></span>
<br />   &#x00A0;<span class="sectionToc" >3 <a 
href="#x1-70003" id="QQ2-1-8">Resources</a></span>
   </div>
<!--l. 9--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">1   </span> <a 
 id="x1-20001"></a>1D-DCT</h3>
<!--l. 11--><p class="noindent" >The <a 
href="https://en.wikipedia.org/wiki/Discrete_cosine_transform" >DCT &#x0028;Discrete Cosine Transform&#x0029;</a> is an <a 
href="https://en.wikipedia.org/wiki/Orthonormality" >orthonormal</a> <a 
href="https://vicente-gonzalez-ruiz.github.io/transform_coding/" >transform</a>&#x00A0;<span class="cite">&#x005B;<a 
href="#Xvruiz__transform_coding">2</a>&#x005D;</span>.
</p><!--l. 16--><p class="indent" >   In the 1D case, the forward DCT for a digital signal
<!--l. 16--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mstyle mathvariant="bold"><mi 
>g</mi></mstyle></mrow><mrow 
><mi 
>n</mi></mrow></msub 
></math> of length
<!--l. 17--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>N</mi></math> is
de&#xFB01;ned as&#x00A0;<span class="cite">&#x005B;<a 
href="#Xburger2016digital">1</a>&#x005D;</span> </p><table class="equation"><tr><td>
                                                                  

                                                                  
<!--l. 18--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
               <mstyle 
   id="x1-2001r1"  class="label" ></mstyle><!--endlabel--><msub><mrow 
><mo 
class="MathClass-open" stretchy="false"><mstyle mathvariant="bold">h</mstyle></mo></mrow><mrow 
><mi 
>u</mi></mrow></msub 
> <mo 
class="MathClass-rel">=</mo> <msqrt><mrow> <mfrac> <mrow 
> <mn>2</mn></mrow>
<mrow 
><mi 
>N</mi></mrow></mfrac></mrow></msqrt><munderover accentunder="false" accent="false"><mrow  
><mo  
>&#x2211;</mo>
  </mrow><mrow 
><mi 
>n</mi><mo 
class="MathClass-rel">=</mo><mn>0</mn></mrow><mrow 
><mi 
>N</mi><mo 
class="MathClass-bin">&#x2212;</mo><mn>1</mn></mrow></munderover 
><msub><mrow 
><mstyle mathvariant="bold"><mi 
>g</mi></mstyle></mrow><mrow 
>
<mi 
>n</mi></mrow></msub 
><msub><mrow 
><mstyle mathvariant="bold"><mi 
>c</mi></mstyle></mrow><mrow 
><mi 
>u</mi></mrow></msub 
><mi class="qopname"> cos</mi><mo> &#x2061;<!--FUNCTION APPLICATION--> </mo><!--nolimits--><mstyle mathsize="1.61em"><mrow><mo fence="true" form="prefix"> (</mo><mrow></mrow><mo fence="true" form="postfix"></mo></mrow></mstyle><mi 
>&#x03C0;</mi><mfrac><mrow 
><mi 
>u</mi><mo 
class="MathClass-open" stretchy="false">&#x0028;</mo><mn>2</mn><mi 
>x</mi> <mo 
class="MathClass-bin">+</mo> <mn>1</mn><mo 
class="MathClass-close" stretchy="false">&#x0029;</mo></mrow> 
    <mrow 
><mn>2</mn><mi 
>N</mi></mrow></mfrac>    <mstyle mathsize="1.61em"><mrow><mo fence="true" form="prefix"> )</mo><mrow></mrow><mo fence="true" form="postfix"></mo></mrow></mstyle><mo 
class="MathClass-punc">,</mo>
</math></td><td class="eq-no">&#x0028;1&#x0029;</td></tr></table>
<!--l. 22--><p class="indent" >   for <!--l. 22--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mn>0</mn> <mo 
class="MathClass-rel">&#x003C;</mo> <mi 
>u</mi> <mo 
class="MathClass-rel">&#x003C;</mo> <mi 
>N</mi></math>,
and the inverse transform is </p><table class="equation"><tr><td>
<!--l. 23--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
               <mstyle 
   id="x1-2002r2"  class="label" ></mstyle><!--endlabel--><msub><mrow 
><mo 
class="MathClass-open" stretchy="false"><mstyle mathvariant="bold">g</mstyle></mo></mrow><mrow 
><mi 
>n</mi></mrow></msub 
> <mo 
class="MathClass-rel">=</mo> <msqrt><mrow> <mfrac> <mrow 
> <mn>2</mn></mrow>
<mrow 
><mi 
>N</mi></mrow></mfrac></mrow></msqrt><munderover accentunder="false" accent="false"><mrow  
><mo  
>&#x2211;</mo>
  </mrow><mrow 
><mi 
>u</mi><mo 
class="MathClass-rel">=</mo><mn>0</mn></mrow><mrow 
><mi 
>N</mi><mo 
class="MathClass-bin">&#x2212;</mo><mn>1</mn></mrow></munderover 
><msub><mrow 
><mstyle mathvariant="bold"><mi 
>h</mi></mstyle></mrow><mrow 
>
<mi 
>u</mi></mrow></msub 
><msub><mrow 
><mstyle mathvariant="bold"><mi 
>c</mi></mstyle></mrow><mrow 
><mi 
>u</mi></mrow></msub 
><mi class="qopname"> cos</mi><mo> &#x2061;<!--FUNCTION APPLICATION--> </mo><!--nolimits--><mstyle mathsize="1.61em"><mrow><mo fence="true" form="prefix"> (</mo><mrow></mrow><mo fence="true" form="postfix"></mo></mrow></mstyle><mi 
>&#x03C0;</mi><mfrac><mrow 
><mi 
>u</mi><mo 
class="MathClass-open" stretchy="false">&#x0028;</mo><mn>2</mn><mi 
>x</mi> <mo 
class="MathClass-bin">+</mo> <mn>1</mn><mo 
class="MathClass-close" stretchy="false">&#x0029;</mo></mrow> 
    <mrow 
><mn>2</mn><mi 
>N</mi></mrow></mfrac>    <mstyle mathsize="1.61em"><mrow><mo fence="true" form="prefix"> )</mo><mrow></mrow><mo fence="true" form="postfix"></mo></mrow></mstyle><mo 
class="MathClass-punc">,</mo>
</math></td><td class="eq-no">&#x0028;2&#x0029;</td></tr></table>
<!--l. 27--><p class="indent" >   for <!--l. 27--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mn>0</mn> <mo 
class="MathClass-rel">&#x003C;</mo> <mi 
>n</mi> <mo 
class="MathClass-rel">&#x003C;</mo> <mi 
>N</mi></math>,
with </p><table class="equation"><tr><td>
<!--l. 28--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
<mstyle 
   id="x1-2003r3"  class="label" ></mstyle><!--endlabel--><msub><mrow 
><mo 
class="MathClass-open" stretchy="false"><mstyle mathvariant="bold">c</mstyle></mo></mrow><mrow 
><mi 
>u</mi></mrow></msub 
> <mo 
class="MathClass-rel">=</mo> <mrow><mo fence="true" form="prefix"> {</mo><mrow> <mtable  align="axis" style=""  
equalrows="false" columnlines="none" equalcolumns="false" class="array"> <mtr><mtd 
class="array"  columnalign="left">   <mfrac><mrow 
><mn>1</mn></mrow> 
<mrow 
><msqrt><mrow><mn>2</mn></mrow></msqrt></mrow></mfrac>  </mtd><mtd 
class="array"  columnalign="left">  <mspace width="1em" class="quad"/><mstyle 
class="text"><mtext  >for</mtext></mstyle><mi 
>&#x00A0;</mi><mi 
>u</mi> <mo 
class="MathClass-rel">=</mo> <mn>0</mn><mo 
class="MathClass-punc">,</mo> </mtd>
</mtr>  <mtr><mtd 
class="array"  columnalign="left"> <mn>1</mn>    </mtd><mtd 
class="array"  columnalign="left">  <mspace width="1em" class="quad"/><mstyle 
class="text"><mtext  >otherwise</mtext></mstyle><mo 
class="MathClass-punc">.</mo> </mtd></mtr> <!--ll--></mtable>                                                                   </mrow><mo fence="true" form="postfix"></mo></mrow>
</math></td><td class="eq-no">&#x0028;3&#x0029;</td></tr></table>
<!--l. 37--><p class="indent" >   The transformed signal is a sequence of coe&#xFB03;cients
<!--l. 37--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mstyle mathvariant="bold"><mi 
>h</mi></mstyle></mrow><mrow 
><mi 
>u</mi></mrow></msub 
></math> with the same length
than the original signal <!--l. 38--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mstyle mathvariant="bold"><mi 
>g</mi></mstyle></mrow><mrow 
><mi 
>n</mi></mrow></msub 
></math>,
and the position of the coe&#xFB03;cients in the transform domain indicate the contribution
of such coe&#xFB03;cient to the corresponding &#x0028;in this case, spatial&#x0029; frequency. For example,
the coe&#xFB03;cient at the position 0 &#x0028;that is commonly refered as DC &#x0028;Direct Current&#x0029;&#x0029; is
equal to the average of the signal. The rest of high-frequency coe&#xFB03;cients are called
AC &#x0028;Alternating Current&#x0029; coe&#xFB03;cients.
                                                                  

                                                                  
</p><!--l. 46--><p class="indent" >   The DCT can be also expressed in matrix&#x00A0;<span class="cite">&#x005B;<a 
href="#Xsayood2017introduction">3</a>&#x005D;</span> form as </p><table class="equation"><tr><td>
<!--l. 48--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
                             <mstyle 
   id="x1-2004r4"  class="label" ></mstyle><!--endlabel--><mo 
class="MathClass-open" stretchy="false"><mstyle mathvariant="bold">h</mstyle></mo> <mo 
class="MathClass-rel">=</mo> <mstyle mathvariant="bold"><mi 
>K</mi></mstyle><mstyle mathvariant="bold"><mi 
>g</mi></mstyle><mo 
class="MathClass-punc">,</mo>
</math></td><td class="eq-no">&#x0028;4&#x0029;</td></tr></table>
<!--l. 51--><p class="indent" >   where <!--l. 51--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle mathvariant="bold"><mi 
>K</mi></mstyle></math>
is the forward transform matrix. The rows of the transform matrix are often referred
to as the basis vectors for the transform because they form an orthonormal basis set
&#x0028;see these <a 
href="https://cseweb.ucsd.edu/classes/fa17/cse166-a/lec13.pdf" >slides</a>&#x0029;, and the elements of the transformed sequence are often called
the transform coe&#xFB03;cients. Obviously, the inverse transform is computed by
</p><table class="equation"><tr><td>
<!--l. 58--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
                            <mstyle 
   id="x1-2005r5"  class="label" ></mstyle><!--endlabel--><mo 
class="MathClass-open" stretchy="false"><mstyle mathvariant="bold">g</mstyle></mo> <mo 
class="MathClass-rel">=</mo><msup><mrow 
> <mstyle mathvariant="bold"><mi 
>K</mi></mstyle></mrow><mrow 
><mo 
class="MathClass-bin">&#x2212;</mo><mn>1</mn></mrow></msup 
><mstyle mathvariant="bold"><mi 
>h</mi></mstyle><mo 
class="MathClass-punc">,</mo>
</math></td><td class="eq-no">&#x0028;5&#x0029;</td></tr></table>
<!--l. 61--><p class="indent" >   where <!--l. 61--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msup><mrow 
><mstyle mathvariant="bold"><mi 
>K</mi></mstyle></mrow><mrow 
><mo 
class="MathClass-bin">&#x2212;</mo><mn>1</mn></mrow></msup 
></math> denotes the
inverse matrix of <!--l. 61--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle mathvariant="bold"><mi 
>K</mi></mstyle></math>. In
the case of the DCT, <!--l. 62--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle mathvariant="bold"><mi 
>K</mi></mstyle></math> is
<a 
href="https://en.wikipedia.org/wiki/Orthogonal_matrix" >orthogonal</a> and therefore, <!--l. 64--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msup><mrow 
><mstyle mathvariant="bold"><mi 
>K</mi></mstyle></mrow><mrow 
><mo 
class="MathClass-bin">&#x2212;</mo><mn>1</mn></mrow></msup 
> <mo 
class="MathClass-rel">=</mo><msup><mrow 
> <mstyle mathvariant="bold"><mi 
>K</mi></mstyle></mrow><mrow 
><mstyle 
class="text"><mtext  >T</mtext></mstyle></mrow></msup 
></math>,
where <!--l. 65--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" > <msup><mrow 
><mo 
class="MathClass-bin">&#x22C5;</mo></mrow><mrow 
><mstyle 
class="text"><mtext  >T</mtext></mstyle></mrow></msup 
></math> denotes
the transpose of <!--l. 65--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle mathvariant="bold"><mi 
>K</mi></mstyle></math>.
</p><!--l. 68--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">1.1   </span> <a 
 id="x1-30001.1"></a>The <!--l. 68--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >RGB</mtext></mstyle></math>-DCT</h4>
<!--l. 70--><p class="noindent" >The <!--l. 70--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >RGB</mtext></mstyle></math>-DCT is a <a 
href="https://en.wikipedia.org/wiki/Discrete_cosine_transform" >DCT</a>
applied to a vector of <!--l. 70--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mn>3</mn></math>
elements &#x0028;in our case, a <!--l. 71--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >RGB</mtext></mstyle></math>
pixel&#x0029; de&#xFB01;ned by </p><table class="equation"><tr><td>
                                                                  

                                                                  
<!--l. 72--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
<mstyle 
   id="x1-3001r6"  class="label" ></mstyle><!--endlabel--><mo 
class="MathClass-open" stretchy="false"> <mrow><mo fence="true" form="prefix"> [</mo><mrow><mtable  align="axis" style=""  
equalrows="false" columnlines="none none none none none none none none none" equalcolumns="false" class="array"><mtr><mtd 
class="array"  columnalign="center"><msub><mrow 
>  <mstyle 
class="text"><mtext  >DCT</mtext></mstyle></mrow><mrow 
>0</mrow></msub 
>  </mtd>
</mtr> <mtr><mtd 
class="array"  columnalign="center"><msub><mrow 
>  <mstyle 
class="text"><mtext  >DCT</mtext></mstyle></mrow><mrow 
>1</mrow></msub 
>  </mtd>
</mtr> <mtr><mtd 
class="array"  columnalign="center"><msub><mrow 
>  <mstyle 
class="text"><mtext  >DCT</mtext></mstyle></mrow><mrow 
>2</mrow></msub 
>  </mtd></mtr> <!--*\c@MaxMatrixCols c--></mtable></mo>                                                         </mrow><mo fence="true" form="postfix">]</mo></mrow>  <mo 
class="MathClass-rel">=</mo>  <mrow><mo fence="true" form="prefix"> [</mo><mrow><mtable  align="axis" style=""  
equalrows="false" columnlines="none none none none none none none none none" equalcolumns="false" class="array"><mtr><mtd 
class="array"  columnalign="center"> <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>5</mn><mn>7</mn><mn>7</mn><mn>3</mn><mn>5</mn><mn>0</mn><mn>2</mn><mn>7</mn> </mtd><mtd 
class="array"  columnalign="center">   <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>7</mn><mn>0</mn><mn>7</mn><mn>1</mn><mn>0</mn><mn>6</mn><mn>7</mn><mn>8</mn>   </mtd><mtd 
class="array"  columnalign="center">   <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>4</mn><mn>0</mn><mn>8</mn><mn>2</mn><mn>4</mn><mn>8</mn><mn>2</mn><mn>9</mn>   </mtd></mtr> <mtr><mtd 
class="array"  columnalign="center"> <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>5</mn><mn>7</mn><mn>7</mn><mn>3</mn><mn>5</mn><mn>0</mn><mn>2</mn><mn>7</mn> </mtd> <mtd 
class="array"  columnalign="center"> <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>0</mn> </mtd> <mtd 
class="array"  columnalign="center"> <mo 
class="MathClass-bin">&#x2212;</mo><mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>8</mn><mn>1</mn><mn>6</mn><mn>4</mn><mn>9</mn><mn>6</mn><mn>5</mn><mn>8</mn></mtd>
</mtr><mtr><mtd 
class="array"  columnalign="center"> <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>5</mn><mn>7</mn><mn>7</mn><mn>3</mn><mn>5</mn><mn>0</mn><mn>2</mn><mn>7</mn> </mtd><mtd 
class="array"  columnalign="center"> <mo 
class="MathClass-bin">&#x2212;</mo><mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>7</mn><mn>0</mn><mn>7</mn><mn>1</mn><mn>0</mn><mn>6</mn><mn>7</mn><mn>8</mn> </mtd><mtd 
class="array"  columnalign="center">   <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>4</mn><mn>0</mn><mn>8</mn><mn>2</mn><mn>4</mn><mn>8</mn><mn>2</mn><mn>9</mn>   </mtd></mtr> <!--*\c@MaxMatrixCols c--></mtable>                                            </mrow><mo fence="true" form="postfix">]</mo></mrow> <mrow><mo fence="true" form="prefix"> [</mo><mrow><mtable  align="axis" style=""  
equalrows="false" columnlines="none none none none none none none none none" equalcolumns="false" class="array"><mtr><mtd 
class="array"  columnalign="center">  <mstyle 
class="text"><mtext  >R</mtext></mstyle>  </mtd></mtr> <mtr><mtd 
class="array"  columnalign="center"> <mstyle 
class="text"><mtext  >G</mtext></mstyle></mtd>
</mtr><mtr><mtd 
class="array"  columnalign="center">  <mstyle 
class="text"><mtext  >B</mtext></mstyle>  </mtd></mtr> <!--*\c@MaxMatrixCols c--></mtable>                                                                                               </mrow><mo fence="true" form="postfix">]</mo></mrow> <mo 
class="MathClass-punc">,</mo>
</math></td><td class="eq-no">&#x0028;6&#x0029;</td></tr></table>
<!--l. 90--><p class="indent" >   and the inverse transform by </p><table class="equation"><tr><td>
<!--l. 91--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
<mstyle 
   id="x1-3002r7"  class="label" ></mstyle><!--endlabel--><mo 
class="MathClass-open" stretchy="false"> <mrow><mo fence="true" form="prefix"> [</mo><mrow><mtable  align="axis" style=""  
equalrows="false" columnlines="none none none none none none none none none" equalcolumns="false" class="array"><mtr><mtd 
class="array"  columnalign="center">  <mstyle 
class="text"><mtext  >R</mtext></mstyle>  </mtd></mtr> <mtr><mtd 
class="array"  columnalign="center"> <mstyle 
class="text"><mtext  >G</mtext></mstyle></mtd>
</mtr><mtr><mtd 
class="array"  columnalign="center">  <mstyle 
class="text"><mtext  >B</mtext></mstyle>  </mtd></mtr> <!--*\c@MaxMatrixCols c--></mtable></mo>                                                            </mrow><mo fence="true" form="postfix">]</mo></mrow> <mo 
class="MathClass-rel">=</mo>  <mrow><mo fence="true" form="prefix"> [</mo><mrow><mtable  align="axis" style=""  
equalrows="false" columnlines="none none none none none none none none none" equalcolumns="false" class="array"><mtr><mtd 
class="array"  columnalign="center"> <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>5</mn><mn>7</mn><mn>7</mn><mn>3</mn><mn>5</mn><mn>0</mn><mn>2</mn><mn>7</mn> </mtd><mtd 
class="array"  columnalign="center">   <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>5</mn><mn>7</mn><mn>7</mn><mn>3</mn><mn>5</mn><mn>0</mn><mn>2</mn><mn>7</mn>   </mtd><mtd 
class="array"  columnalign="center">   <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>5</mn><mn>7</mn><mn>7</mn><mn>3</mn><mn>5</mn><mn>0</mn><mn>2</mn><mn>7</mn>   </mtd></mtr> <mtr><mtd 
class="array"  columnalign="center"> <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>7</mn><mn>0</mn><mn>7</mn><mn>1</mn><mn>0</mn><mn>6</mn><mn>7</mn><mn>8</mn> </mtd> <mtd 
class="array"  columnalign="center"> <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>0</mn> </mtd> <mtd 
class="array"  columnalign="center"> <mo 
class="MathClass-bin">&#x2212;</mo><mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>7</mn><mn>0</mn><mn>7</mn><mn>1</mn><mn>0</mn><mn>6</mn><mn>7</mn><mn>8</mn></mtd>
</mtr><mtr><mtd 
class="array"  columnalign="center"> <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>4</mn><mn>0</mn><mn>8</mn><mn>2</mn><mn>4</mn><mn>8</mn><mn>2</mn><mn>9</mn> </mtd><mtd 
class="array"  columnalign="center"> <mo 
class="MathClass-bin">&#x2212;</mo><mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>8</mn><mn>1</mn><mn>6</mn><mn>4</mn><mn>9</mn><mn>6</mn><mn>5</mn><mn>8</mn> </mtd><mtd 
class="array"  columnalign="center">   <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>4</mn><mn>0</mn><mn>8</mn><mn>2</mn><mn>4</mn><mn>8</mn><mn>2</mn><mn>9</mn>   </mtd></mtr> <!--*\c@MaxMatrixCols c--></mtable>                                            </mrow><mo fence="true" form="postfix">]</mo></mrow> <mrow><mo fence="true" form="prefix"> [</mo><mrow><mtable  align="axis" style=""  
equalrows="false" columnlines="none none none none none none none none none" equalcolumns="false" class="array"><mtr><mtd 
class="array"  columnalign="center"><msub><mrow 
> <mstyle 
class="text"><mtext  >DCT</mtext></mstyle></mrow><mrow 
><mn>0</mn></mrow></msub 
>  </mtd>
</mtr> <mtr><mtd 
class="array"  columnalign="center"><msub><mrow 
>  <mstyle 
class="text"><mtext  >DCT</mtext></mstyle></mrow><mrow 
><mn>1</mn></mrow></msub 
>  </mtd>
</mtr> <mtr><mtd 
class="array"  columnalign="center"><msub><mrow 
>  <mstyle 
class="text"><mtext  >DCT</mtext></mstyle></mrow><mrow 
><mn>2</mn></mrow></msub 
>  </mtd></mtr> <!--*\c@MaxMatrixCols c--></mtable>                                                                                                               </mrow><mo fence="true" form="postfix">]</mo></mrow> <mo 
class="MathClass-punc">.</mo>
</math></td><td class="eq-no">&#x0028;7&#x0029;</td></tr></table>
<!--l. 109--><p class="indent" >   See this <a 
href="https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/milestones/06-YUV_compression/color-DCT_matrix.ipynb" >notebook</a> to see how to compute the &#xFB01;lter&#x2019;s coe&#xFB03;cients.
</p><!--l. 144--><p class="indent" >   When applied to the <!--l. 144--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >RGB</mtext></mstyle></math>
color domain, we will move from this domain to the color-DCT
domain that have also 3 components, that we will denote by
<!--l. 146--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mstyle 
class="text"><mtext  >DCT</mtext></mstyle></mrow><mrow 
><mn>0</mn></mrow></msub 
></math>,
<!--l. 146--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mstyle 
class="text"><mtext  >DCT</mtext></mstyle></mrow><mrow 
><mn>1</mn></mrow></msub 
></math> and
<!--l. 146--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mstyle 
class="text"><mtext  >DCT</mtext></mstyle></mrow><mrow 
><mn>2</mn></mrow></msub 
></math>. If
the decorrelation is e&#xFB00;ective, most of the energy will be concentrated in
<!--l. 148--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mstyle 
class="text"><mtext  >DCT</mtext></mstyle></mrow><mrow 
><mn>0</mn></mrow></msub 
></math>,
which represents the average energy of the image &#x0028;luminance&#x0029;.
</p><!--l. 151--><p class="indent" >   Notice also that the DCT is orthonormal, and therefore, the matrix of the forward
transform is the transpose of the matrix of the backward transform&#x00A0;<span class="cite">&#x005B;<a 
href="#Xsayood2017introduction">3</a>&#x005D;</span>. This also
means that the contribution of the synthesis &#xFB01;lters &#x0028;which de&#xFB01;ne the inverse
transform&#x0029; to the reconstructed signal are independent and have exactly the unity
                                                                  

                                                                  
gain.<span class="footnote-mark"><a 
href="index2.html#fn1x0"><sup class="textsuperscript">1</sup></a></span><a 
 id="x1-3003f1"></a> 
</p>
   <h4 class="subsectionHead"><span class="titlemark">1.2   </span> <a 
 id="x1-40001.2"></a>Quantization in the color-DCT domain</h4>
<!--l. 177--><p class="noindent" >The synthesis &#xFB01;lters of orthonormal transforms are orthogonal &#x0028;their contributions
to the reconstructed signal are independent&#x0029; and have exactly the unity
gain.<span class="footnote-mark"><a 
href="index3.html#fn2x0"><sup class="textsuperscript">2</sup></a></span><a 
 id="x1-4001f2"></a> 
Therefore, without considering that the entropy coding stage can performs better for
some subbands, the optimal quantization pattern should be </p><table class="equation"><tr><td>
                                                                  

                                                                  
<!--l. 184--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
                     <mstyle 
   id="x1-4002r10"  class="label" ></mstyle><!--endlabel--><msub><mrow 
><mi mathvariant="normal">&#x0394;</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >DCT0</mtext></mstyle></mrow></msub 
> <mo 
class="MathClass-rel">=</mo><msub><mrow 
> <mi mathvariant="normal">&#x0394;</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >DCT1</mtext></mstyle></mrow></msub 
> <mo 
class="MathClass-rel">=</mo><msub><mrow 
> <mi mathvariant="normal">&#x0394;</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >DCT2</mtext></mstyle></mrow></msub 
><mo 
class="MathClass-punc">.</mo>
</math></td><td class="eq-no">&#x0028;10&#x0029;</td></tr></table>
<!--l. 187--><p class="indent" >   See this <a 
href="https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/study_guide/06-color_transform/color-DCT_compression.ipynb" >notebook</a>.
</p><!--l. 189--><p class="indent" >   Notice that to &#xFB01;nd the gains &#x0028;of any 1D transform&#x0029; we can compute the energy of
the signal generated by the inverse transform of the impulse discrete 1D signal
</p><table class="equation"><tr><td>
<!--l. 192--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
<mstyle 
   id="x1-4003r11"  class="label" ></mstyle><!--endlabel--><msub><mrow 
><mo 
class="MathClass-open" stretchy="false">&#x03B4;</mo></mrow><mrow 
><mi 
>i</mi></mrow></msub 
><mo 
class="MathClass-open" stretchy="false">&#x0028;</mo><mi 
>x</mi><mo 
class="MathClass-close" stretchy="false">&#x0029;</mo> <mo 
class="MathClass-rel">=</mo> <mrow><mo fence="true" form="prefix"> {</mo><mrow> <mtable  align="axis" style=""  
equalrows="false" columnlines="none" equalcolumns="false" class="array"> <mtr><mtd 
class="array"  columnalign="left">  <mn>1</mn> </mtd><mtd 
class="array"  columnalign="left">  <mstyle 
class="text"><mtext  >if&#x00A0;</mtext><mstyle 
class="math"><mi 
>i</mi> <mo 
class="MathClass-rel">=</mo> <mi 
>x</mi></mstyle><mtext  ></mtext></mstyle>    </mtd></mtr>  <mtr><mtd 
class="array"  columnalign="left">  <mn>0</mn> </mtd> <mtd 
class="array"  columnalign="left">  <mstyle 
class="text"><mtext  >otherwise</mtext></mstyle> <mo 
class="MathClass-punc">,</mo></mtd></mtr> <!--ll--></mtable>                                                                     </mrow><mo fence="true" form="postfix"></mo></mrow>
</math></td><td class="eq-no">&#x0028;11&#x0029;</td></tr></table>
<!--l. 201--><p class="indent" >   where the <a 
href="https://en.wikipedia.org/wiki/Energy_(signal_processing)" >energy of a discrete signal</a>
<!--l. 203--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>x</mi></math> is
de&#xFB01;ned as </p><table class="equation"><tr><td>
<!--l. 204--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
                          <mstyle 
   id="x1-4004r12"  class="label" ></mstyle><!--endlabel--><mo 
class="MathClass-open" stretchy="false">&#x27E8;</mo><mi 
>x</mi><mo 
class="MathClass-punc">,</mo><mi 
>x</mi><mo 
class="MathClass-close" stretchy="false">&#x27E9;</mo> <mo 
class="MathClass-rel">=</mo><munder class="msub"><mrow 
><mo  
> &#x2211;</mo>
   </mrow><mrow 
><mi 
>i</mi></mrow></munder 
><msubsup><mrow 
><mi 
>x</mi></mrow><mrow 
><mi 
>i</mi></mrow><mrow 
><mn>2</mn></mrow></msubsup 
><mo 
class="MathClass-punc">.</mo>
</math></td><td class="eq-no">&#x0028;12&#x0029;</td></tr></table>
<!--l. 208--><p class="indent" >   If we consider that the RD curve can be a&#xFB00;eced by the compresiblity of the
subbands, a better solution to &#xFB01;nd the optimal RD curve is:
     </p><ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-4006x1">
     <!--l. 210--><p class="noindent" >Variying the <!--l. 210--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi mathvariant="normal">&#x0394;</mi></math>,
     compute the RD curve for each DCT subband.
                                                                  

                                                                  
     </p></li>
<li 
  class="enumerate" id="x1-4008x2">
     <!--l. 212--><p class="noindent" >Sort the RD points &#x0028;considering the three subbands at once&#x0029;, by their
     slope.
     </p></li>
<li 
  class="enumerate" id="x1-4010x3">
     <!--l. 214--><p class="noindent" >Apply progressively the combinations of quantization steps described by
     the sorted RD points.</p></li></ol>
<!--l. 217--><p class="noindent" >Notice that this algorithm is right because the DCT is orthogonal, i.e., the
contributions of the subbands to the reconstructe signal are independent. See this
<a 
href="https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/study_guide/06-color_transform/color-DCT_compression.ipynb" >notebook</a>.
</p>
   <h3 class="sectionHead"><span class="titlemark">2   </span> <a 
 id="x1-50002"></a>The 2D-DCT</h3>
<!--l. 223--><p class="noindent" >The 2D-DCT is separable, which means that it can be computed by appliying the
1D-DCT to the two dimensions of the signal &#x0028;a digital image, for example&#x0029;. For the
inverse 2D-DCT, the procedure is similar, but appliying the inverse 1D-DWT in
reverse order. The Fig.&#x00A0;<a 
href="#x1-5001r1">1<!--tex4ht:ref: fig:2D-DCT_basis --></a> shows the &#xFB01;rst 64 2D-DCT basis.
</p>
   <hr class="figure" /><div class="figure" 
>
                                                                  

                                                                  
                                                                  

                                                                  
<!--l. 230--><p class="noindent" ><div style="text-align:center;"> <img width=600 src="2D-DCT_basis.png" /> </div>  <a 
 id="x1-5001r1"></a>
<a 
 id="x1-5002"></a>
<br />                                                                  </p><div class="caption" 
><span class="id">
Figure&#x00A0;1: </span><span  
class="content">First 64 2D-DCT basis functions &#x0028;see this <a 
href="https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/milestones/07-DCT/DCT_basis.ipynb" >notebook</a>&#x0029;.             </span></div><!--tex4ht:label?: x1-5001r2 -->
                                                                  

                                                                  
   </div><hr class="endfigure" />
   <h4 class="subsectionHead"><span class="titlemark">2.1   </span> <a 
 id="x1-60002.1"></a>Quantization in the &#x0028;spatial&#x0029; DCT domain</h4>
<!--l. 238--><p class="noindent" >The DCT is <a 
href="https://en.wikipedia.org/wiki/Orthonormality" >orthonormal</a> &#x0028;orthogonal +
unitary<span class="footnote-mark"><a 
href="index4.html#fn3x0"><sup class="textsuperscript">3</sup></a></span><a 
 id="x1-6001f3"></a> &#x0029;.
Since the DCT is orthonormal, the gain of each subband is equal to 1, and also that
the quantization error is <span 
class="ecti-1000">ampli&#xFB01;ed </span>with the same gain in all the subbands. However,
this does not mean that all the subbands should be quantized using the same
<!--l. 246--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi mathvariant="normal">&#x0394;</mi></math>,
because some subbands can be compressed more e&#xFB03;cienly than others and their
distortion &#x0028;after quantization&#x0029; can be di&#xFB00;erent. This <a 
href="https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/milestones/07-DCT/block_DCT_compression.ipynb" >notebook</a> shows how to use RD
optimization to determine, given a target bit-rate, the best combination of
quantization steps per subbands.
</p>
   <h3 class="sectionHead"><span class="titlemark">3   </span> <a 
 id="x1-70003"></a>Resources</h3>
   <div class="thebibliography">
   <p class="bibitem" ><span class="biblabel">
 &#x005B;1&#x005D;<span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span><a 
 id="Xburger2016digital"></a>W.&#x00A0;Burger and M.J. Burge.  <a 
href="https://educons.edu.rs/wp-content/uploads/2020/05/2016-Digital-Image-Processing.pdf" ><span 
class="ecti-1000">Digital Image Processing: An Algorithmic</span>
   <span 
class="ecti-1000">Introduction Using Java</span></a>. Springer, 2016.
   </p>
   <p class="bibitem" ><span class="biblabel">
 &#x005B;2&#x005D;<span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span><a 
 id="Xvruiz__transform_coding"></a>V.&#x00A0;Gonz&#x00E1;lez-Ruiz. <a 
href="https://vicente-gonzalez-ruiz.github.io/transform_coding/" >Transform Coding</a>.
   </p>
   <p class="bibitem" ><span class="biblabel">
 &#x005B;3&#x005D;<span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span><a 
 id="Xsayood2017introduction"></a>K.&#x00A0;Sayood.    <a 
href="http://rahilshaikh.weebly.com/uploads/1/1/6/3/11635894/data_compression.pdf" ><span 
class="ecti-1000">Introduction  to  Data  Compression</span></a>  <a 
href="https://people.cs.nctu.edu.tw/~cmliu/Courses/Compression/" ><span 
class="ecti-1000">&#x0028;Slides&#x0029;</span></a>.    Morgan
   Kaufmann, 2017.
</p>
   </div>
    
</body></html> 

                                                                  


